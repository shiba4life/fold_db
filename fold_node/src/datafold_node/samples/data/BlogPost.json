{
  "name": "BlogPost",
  "fields": {
    "title": {
      "field_type": "Single",
      "permission_policy": {
        "read_policy": { "NoRequirement": null },
        "write_policy": { "Distance": 0 }
      },
      "payment_config": {
        "base_multiplier": 1.0,
        "trust_distance_scaling": { "None": null }
      },
      "field_mappers": {}
    },
    "content": {
      "field_type": "Single",
      "permission_policy": {
        "read_policy": { "NoRequirement": null },
        "write_policy": { "Distance": 0 }
      },
      "payment_config": {
        "base_multiplier": 1.0,
        "trust_distance_scaling": { "None": null }
      },
      "field_mappers": {}
    },
    "author": {
      "field_type": "Single",
      "permission_policy": {
        "read_policy": { "NoRequirement": null },
        "write_policy": { "Distance": 0 }
      },
      "payment_config": {
        "base_multiplier": 1.0,
        "trust_distance_scaling": { "None": null }
      },
      "field_mappers": {}
    },
    "publish_date": {
      "field_type": "Single",
      "permission_policy": {
        "read_policy": { "NoRequirement": null },
        "write_policy": { "Distance": 0 }
      },
      "payment_config": {
        "base_multiplier": 1.0,
        "trust_distance_scaling": { "None": null }
      },
      "field_mappers": {}
    },
    "tags": {
      "field_type": "Collection",
      "permission_policy": {
        "read_policy": { "NoRequirement": null },
        "write_policy": { "Distance": 0 }
      },
      "payment_config": {
        "base_multiplier": 1.0,
        "trust_distance_scaling": { "None": null }
      },
      "field_mappers": {}
    },
    "comments": {
      "field_type": "Collection",
      "permission_policy": {
        "read_policy": { "NoRequirement": null },
        "write_policy": { "Distance": 1 }
      },
      "payment_config": {
        "base_multiplier": 1.0,
        "trust_distance_scaling": { "None": null }
      },
      "field_mappers": {}
    }
  },
  "transforms": {
    "summary": {
      "logic": "let words = content.split(\" \"); if words.length > 30 { return words.slice(0, 30).join(\" \") + \"...\"; } else { return content; }",
      "inputs": ["BlogPost.content"],
      "output": "BlogPost.summary"
    },
    "tag_count": {
      "logic": "return tags.length;",
      "inputs": ["BlogPost.tags"],
      "output": "BlogPost.tag_count"
    },
    "reading_time": {
      "logic": "let words = content.split(\" \").length; return Math.ceil(words / 200);",
      "inputs": ["BlogPost.content"],
      "output": "BlogPost.reading_time"
    }
  },
  "payment_config": {
    "base_multiplier": 1.0,
    "min_payment_threshold": 0
  }
}
